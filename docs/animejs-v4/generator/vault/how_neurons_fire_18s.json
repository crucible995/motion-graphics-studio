{
  "id": 1769309855343,
  "topic": "how neurons fire",
  "duration": 18,
  "sequences": "dynamic",
  "timestamp": 1769309855343,
  "title": "The Spark of Thought: How Neurons Fire",
  "narration": "Your brain contains 86 billion neurons, each one a tiny biological computer. When a neuron receives enough signals from its neighbors, it fires an electrical impulse called an action potential â€“ a wave of charge that races down its length at 270 miles per hour, passing the message to the next neuron in the chain.",
  "setup": "const colors = { blue: '#4fc3f7', darkBlue: '#29b6f6', orange: '#ff9f43', pink: '#ff6b9d', purple: '#a55eea', yellow: '#fed330', green: '#26de81', bg: '#1a1a2e' };\n\n// Create neuron body (soma)\nconst soma = document.createElement('div');\nsoma.className = 'element neuron-soma';\nObject.assign(soma.style, { position: 'absolute', width: '80px', height: '80px', borderRadius: '50%', background: `radial-gradient(circle at 30% 30%, ${colors.blue}, ${colors.darkBlue})`, left: '80px', top: '160px', boxShadow: `0 0 30px ${colors.blue}40` });\nstage.appendChild(soma);\n\n// Create nucleus\nconst nucleus = document.createElement('div');\nnucleus.className = 'element nucleus';\nObject.assign(nucleus.style, { position: 'absolute', width: '30px', height: '30px', borderRadius: '50%', background: colors.purple, left: '105px', top: '185px', opacity: '0.9' });\nstage.appendChild(nucleus);\n\n// Create dendrites\nconst dendriteData = [{x: 40, y: 140, rot: -45}, {x: 30, y: 170, rot: -20}, {x: 35, y: 200, rot: 20}, {x: 45, y: 225, rot: 40}];\ndendriteData.forEach((d, i) => { const dendrite = document.createElement('div'); dendrite.className = 'element dendrite'; Object.assign(dendrite.style, { position: 'absolute', width: '50px', height: '6px', borderRadius: '3px', background: colors.blue, left: d.x + 'px', top: d.y + 'px', transform: `rotate(${d.rot}deg)`, opacity: '0' }); stage.appendChild(dendrite); });\n\n// Create axon\nconst axon = document.createElement('div');\naxon.className = 'element axon';\nObject.assign(axon.style, { position: 'absolute', width: '280px', height: '8px', borderRadius: '4px', background: `linear-gradient(90deg, ${colors.darkBlue}, ${colors.blue})`, left: '150px', top: '196px', transformOrigin: 'left center', scaleX: '0' });\nstage.appendChild(axon);\n\n// Create myelin sheaths\nfor(let i = 0; i < 5; i++) { const myelin = document.createElement('div'); myelin.className = 'element myelin'; Object.assign(myelin.style, { position: 'absolute', width: '35px', height: '20px', borderRadius: '10px', background: colors.purple, left: (175 + i * 52) + 'px', top: '190px', opacity: '0' }); stage.appendChild(myelin); }\n\n// Create axon terminal\nconst terminal = document.createElement('div');\nterminal.className = 'element terminal';\nObject.assign(terminal.style, { position: 'absolute', width: '50px', height: '50px', borderRadius: '50%', background: `radial-gradient(circle at 30% 30%, ${colors.orange}, ${colors.pink})`, left: '420px', top: '175px', opacity: '0' });\nstage.appendChild(terminal);\n\n// Create signal particles\nfor(let i = 0; i < 8; i++) { const signal = document.createElement('div'); signal.className = 'element signal'; Object.assign(signal.style, { position: 'absolute', width: '12px', height: '12px', borderRadius: '50%', background: colors.yellow, left: '115px', top: '194px', opacity: '0', boxShadow: `0 0 15px ${colors.yellow}` }); stage.appendChild(signal); }\n\n// Create incoming signals on dendrites\nfor(let i = 0; i < 4; i++) { const incoming = document.createElement('div'); incoming.className = 'element incoming'; Object.assign(incoming.style, { position: 'absolute', width: '10px', height: '10px', borderRadius: '50%', background: colors.green, left: '0px', top: (150 + i * 25) + 'px', opacity: '0', boxShadow: `0 0 10px ${colors.green}` }); stage.appendChild(incoming); }\n\n// Create neurotransmitters\nfor(let i = 0; i < 6; i++) { const neuro = document.createElement('div'); neuro.className = 'element neurotransmitter'; Object.assign(neuro.style, { position: 'absolute', width: '8px', height: '8px', borderRadius: '50%', background: colors.pink, left: '445px', top: '200px', opacity: '0' }); stage.appendChild(neuro); }\n\n// Create second neuron hint\nconst nextNeuron = document.createElement('div');\nnextNeuron.className = 'element next-neuron';\nObject.assign(nextNeuron.style, { position: 'absolute', width: '60px', height: '60px', borderRadius: '50%', background: `radial-gradient(circle at 30% 30%, ${colors.blue}80, ${colors.darkBlue}80)`, left: '520px', top: '170px', opacity: '0' });\nstage.appendChild(nextNeuron);\n\n// Create labels\nconst labels = [{text: 'DENDRITES', x: 10, y: 260}, {text: 'SOMA', x: 85, y: 250}, {text: 'AXON', x: 270, y: 220}, {text: 'SYNAPSE', x: 460, y: 240}];\nlabels.forEach(l => { const label = document.createElement('div'); label.className = 'element label'; label.textContent = l.text; Object.assign(label.style, { position: 'absolute', color: 'white', fontSize: '11px', fontWeight: 'bold', letterSpacing: '1px', left: l.x + 'px', top: l.y + 'px', opacity: '0', fontFamily: 'system-ui, sans-serif' }); stage.appendChild(label); });",
  "animation": "const tl = anime.createTimeline({ defaults: { ease: 'outExpo' } });\n\n// Sequence 1: Neuron appears\ntl.add({ targets: '.neuron-soma', scale: [0, 1], opacity: [0, 1], duration: 800 }, 0);\ntl.add({ targets: '.nucleus', scale: [0, 1], opacity: [0, 0.9], duration: 600 }, 200);\ntl.add({ targets: '.dendrite', opacity: [0, 1], scaleX: [0, 1], duration: 500, delay: anime.stagger(100) }, 400);\ntl.add({ targets: '.label', opacity: [0, 1], translateY: [10, 0], duration: 400, delay: anime.stagger(150, {start: 0}) }, 800);\n\n// Sequence 2: Axon grows out\ntl.add({ targets: '.axon', scaleX: [0, 1], duration: 1000, ease: 'inOutQuad' }, 1500);\ntl.add({ targets: '.myelin', opacity: [0, 0.8], scale: [0.5, 1], duration: 400, delay: anime.stagger(80) }, 2000);\ntl.add({ targets: '.terminal', opacity: [0, 1], scale: [0, 1], duration: 600 }, 2800);\n\n// Sequence 3: Incoming signals arrive at dendrites\ntl.add({ targets: '.incoming', opacity: [0, 1], duration: 300 }, 3500);\ntl.add({ targets: '.incoming', translateX: [0, 40], opacity: [1, 0], duration: 800, delay: anime.stagger(100), ease: 'inQuad' }, 3800);\n\n// Sequence 4: Soma lights up (threshold reached)\ntl.add({ targets: '.neuron-soma', boxShadow: [`0 0 30px ${colors.blue}40`, `0 0 60px ${colors.yellow}`, `0 0 30px ${colors.blue}40`], duration: 600, ease: 'outQuad' }, 4800);\ntl.add({ targets: '.neuron-soma', background: [`radial-gradient(circle at 30% 30%, ${colors.blue}, ${colors.darkBlue})`, `radial-gradient(circle at 30% 30%, ${colors.yellow}, ${colors.orange})`, `radial-gradient(circle at 30% 30%, ${colors.blue}, ${colors.darkBlue})`], duration: 800 }, 4800);\n\n// Sequence 5: Action potential travels down axon\nconst signals = document.querySelectorAll('.signal');\nsignals.forEach((sig, i) => { tl.add({ targets: sig, opacity: [0, 1, 1, 0], translateX: [0, 50, 200, 320], duration: 1800, ease: 'linear' }, 5800 + i * 150); });\n\n// Myelin sheaths pulse as signal passes\ntl.add({ targets: '.myelin', scale: [1, 1.2, 1], opacity: [0.8, 1, 0.8], duration: 400, delay: anime.stagger(150) }, 6200);\n\n// Sequence 6: Terminal activates\ntl.add({ targets: '.terminal', scale: [1, 1.3, 1], boxShadow: [`0 0 0px ${colors.orange}`, `0 0 40px ${colors.yellow}`, `0 0 20px ${colors.orange}`], duration: 800 }, 8500);\n\n// Sequence 7: Neurotransmitters release\nconst neurotransmitters = document.querySelectorAll('.neurotransmitter');\nneurotransmitters.forEach((n, i) => { const angle = (i - 2.5) * 15; const rad = angle * Math.PI / 180; tl.add({ targets: n, opacity: [0, 1], translateX: [0, Math.cos(rad) * 60 + 20], translateY: [0, Math.sin(rad) * 40 - 10], duration: 1000, ease: 'outQuad' }, 9300 + i * 80); });\n\n// Sequence 8: Next neuron receives signal\ntl.add({ targets: '.next-neuron', opacity: [0, 0.6], scale: [0.8, 1], duration: 800 }, 10000);\ntl.add({ targets: '.neurotransmitter', opacity: [1, 0], duration: 500 }, 11000);\ntl.add({ targets: '.next-neuron', boxShadow: [`0 0 0px ${colors.blue}`, `0 0 50px ${colors.yellow}`, `0 0 20px ${colors.blue}`], scale: [1, 1.1, 1], duration: 1000 }, 11500);\n\n// Sequence 9: Second wave - repeat firing\ntl.add({ targets: '.incoming', translateX: 0, opacity: [0, 1], duration: 300 }, 13000);\ntl.add({ targets: '.incoming', translateX: [0, 40], opacity: [1, 0], duration: 600, delay: anime.stagger(80) }, 13300);\ntl.add({ targets: '.neuron-soma', boxShadow: [`0 0 30px ${colors.blue}40`, `0 0 50px ${colors.yellow}`], duration: 400 }, 14000);\nsignals.forEach((sig, i) => { if(i < 4) { tl.add({ targets: sig, opacity: [0, 1, 1, 0], translateX: [0, 100, 250, 320], duration: 1400, ease: 'linear' }, 14200 + i * 100); } });\ntl.add({ targets: '.terminal', scale: [1, 1.2, 1], duration: 600 }, 15800);\n\n// Final: Everything pulses gently\ntl.add({ targets: ['.neuron-soma', '.terminal', '.next-neuron'], scale: [1, 1.05, 1], duration: 1500, ease: 'inOutSine', loop: 1 }, 16500);\n\nreturn tl;",
  "cleanup": "document.querySelectorAll('.neuron-soma, .nucleus, .dendrite, .axon, .myelin, .terminal, .signal, .incoming, .neurotransmitter, .next-neuron, .label').forEach(el => el.remove());"
}
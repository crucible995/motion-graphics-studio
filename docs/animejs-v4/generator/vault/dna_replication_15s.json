{
  "id": 1769309815847,
  "topic": "DNA replication",
  "duration": 15,
  "sequences": "dynamic",
  "timestamp": 1769309815847,
  "title": "The Dance of DNA Replication",
  "narration": "Every time a cell divides, it must copy its entire genetic code. The DNA double helix unzips like a zipper, and specialized molecular machines read each strand, building perfect copies nucleotide by nucleotide. In just hours, 3 billion base pairs are duplicated with astonishing accuracy.",
  "setup": "const elements = [];\n\n// Create the background glow\nconst bgGlow = document.createElement('div');\nbgGlow.className = 'bg-glow';\nbgGlow.style.cssText = 'position:absolute;width:300px;height:300px;border-radius:50%;background:radial-gradient(circle,rgba(79,195,247,0.2) 0%,transparent 70%);left:50%;top:50%;transform:translate(-50%,-50%);pointer-events:none;';\nstage.appendChild(bgGlow);\nelements.push(bgGlow);\n\n// Create DNA helix strands\nconst helixContainer = document.createElement('div');\nhelixContainer.className = 'helix-container';\nhelixContainer.style.cssText = 'position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:400px;height:200px;';\nstage.appendChild(helixContainer);\nelements.push(helixContainer);\n\n// Base pair colors\nconst baseColors = {\n  A: '#ff6b9d',\n  T: '#fed330',\n  G: '#26de81',\n  C: '#4fc3f7'\n};\n\nconst basePairs = ['AT', 'GC', 'TA', 'CG', 'AT', 'GC', 'CG', 'TA'];\nconst nucleotides = [];\n\n// Create base pairs along the helix\nbasePairs.forEach((pair, i) => {\n  const leftBase = document.createElement('div');\n  leftBase.className = 'nucleotide left-strand';\n  leftBase.dataset.index = i;\n  const leftColor = baseColors[pair[0]];\n  leftBase.style.cssText = `position:absolute;width:20px;height:20px;border-radius:50%;background:${leftColor};left:${140 + i * 20}px;top:80px;opacity:0;box-shadow:0 0 10px ${leftColor};`;\n  helixContainer.appendChild(leftBase);\n  nucleotides.push(leftBase);\n  \n  const rightBase = document.createElement('div');\n  rightBase.className = 'nucleotide right-strand';\n  rightBase.dataset.index = i;\n  const rightColor = baseColors[pair[1]];\n  rightBase.style.cssText = `position:absolute;width:20px;height:20px;border-radius:50%;background:${rightColor};left:${140 + i * 20}px;top:100px;opacity:0;box-shadow:0 0 10px ${rightColor};`;\n  helixContainer.appendChild(rightBase);\n  nucleotides.push(rightBase);\n  \n  // Hydrogen bonds between pairs\n  const bond = document.createElement('div');\n  bond.className = 'h-bond';\n  bond.dataset.index = i;\n  bond.style.cssText = `position:absolute;width:3px;height:0px;background:rgba(255,255,255,0.6);left:${149 + i * 20}px;top:98px;opacity:0;border-radius:2px;`;\n  helixContainer.appendChild(bond);\n  elements.push(bond);\n});\n\n// Create helicase enzyme (the unzipper)\nconst helicase = document.createElement('div');\nhelicase.className = 'helicase';\nhelicase.style.cssText = 'position:absolute;width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#a55eea 0%,#8854d0 100%);left:100px;top:70px;opacity:0;box-shadow:0 0 20px rgba(165,94,234,0.6);display:flex;align-items:center;justify-content:center;';\nconst helicaseInner = document.createElement('div');\nhelicaseInner.style.cssText = 'width:20px;height:20px;border-radius:50%;background:rgba(255,255,255,0.3);';\nhelicase.appendChild(helicaseInner);\nhelixContainer.appendChild(helicase);\nelements.push(helicase);\n\n// Create DNA polymerase enzymes\nconst polymeraseTop = document.createElement('div');\npolymeraseTop.className = 'polymerase-top';\npolymeraseTop.style.cssText = 'position:absolute;width:35px;height:25px;border-radius:12px;background:linear-gradient(135deg,#ff9f43 0%,#ee5a24 100%);left:100px;top:50px;opacity:0;box-shadow:0 0 15px rgba(255,159,67,0.6);';\nhelixContainer.appendChild(polymeraseTop);\nelements.push(polymeraseTop);\n\nconst polymeraseBottom = document.createElement('div');\npolymeraseBottom.className = 'polymerase-bottom';\npolymeraseBottom.style.cssText = 'position:absolute;width:35px;height:25px;border-radius:12px;background:linear-gradient(135deg,#ff9f43 0%,#ee5a24 100%);left:100px;top:125px;opacity:0;box-shadow:0 0 15px rgba(255,159,67,0.6);';\nhelixContainer.appendChild(polymeraseBottom);\nelements.push(polymeraseBottom);\n\n// Create new nucleotides (copies)\nconst newNucleotides = [];\nbasePairs.forEach((pair, i) => {\n  const newTop = document.createElement('div');\n  newTop.className = 'new-nucleotide new-top';\n  const topColor = baseColors[pair[1]];\n  newTop.style.cssText = `position:absolute;width:16px;height:16px;border-radius:50%;background:${topColor};left:${142 + i * 20}px;top:55px;opacity:0;box-shadow:0 0 8px ${topColor};transform:scale(0);`;\n  helixContainer.appendChild(newTop);\n  newNucleotides.push(newTop);\n  \n  const newBottom = document.createElement('div');\n  newBottom.className = 'new-nucleotide new-bottom';\n  const bottomColor = baseColors[pair[0]];\n  newBottom.style.cssText = `position:absolute;width:16px;height:16px;border-radius:50%;background:${bottomColor};left:${142 + i * 20}px;top:130px;opacity:0;box-shadow:0 0 8px ${bottomColor};transform:scale(0);`;\n  helixContainer.appendChild(newBottom);\n  newNucleotides.push(newBottom);\n});\n\n// Labels\nconst helicaseLabel = document.createElement('div');\nhelicaseLabel.className = 'label helicase-label';\nhelicaseLabel.textContent = 'Helicase';\nhelicaseLabel.style.cssText = 'position:absolute;left:85px;top:35px;color:#a55eea;font-size:11px;font-weight:bold;opacity:0;text-shadow:0 0 10px rgba(165,94,234,0.8);';\nhelixContainer.appendChild(helicaseLabel);\nelements.push(helicaseLabel);\n\nconst polyLabel = document.createElement('div');\npolyLabel.className = 'label poly-label';\npolyLabel.textContent = 'DNA Polymerase';\npolyLabel.style.cssText = 'position:absolute;left:240px;top:155px;color:#ff9f43;font-size:11px;font-weight:bold;opacity:0;text-shadow:0 0 10px rgba(255,159,67,0.8);';\nhelixContainer.appendChild(polyLabel);\nelements.push(polyLabel);\n\nconst titleLabel = document.createElement('div');\ntitleLabel.className = 'title-label';\ntitleLabel.textContent = 'DNA REPLICATION';\ntitleLabel.style.cssText = 'position:absolute;left:50%;top:20px;transform:translateX(-50%);color:white;font-size:16px;font-weight:bold;opacity:0;letter-spacing:3px;text-shadow:0 0 20px rgba(79,195,247,0.8);';\nstage.appendChild(titleLabel);\nelements.push(titleLabel);\n\nwindow._dnaElements = elements.concat(nucleotides, newNucleotides);",
  "animation": "const tl = anime.createTimeline({\n  defaults: {\n    ease: 'outExpo'\n  }\n});\n\n// Phase 1: Title and DNA appears\ntl.add({\n  targets: '.title-label',\n  opacity: [0, 1],\n  translateY: [-20, 0],\n  duration: 800\n}, 0);\n\ntl.add({\n  targets: '.nucleotide',\n  opacity: [0, 1],\n  scale: [0, 1],\n  duration: 600,\n  delay: anime.stagger(80)\n}, 200);\n\ntl.add({\n  targets: '.h-bond',\n  opacity: [0, 0.6],\n  height: [0, 20],\n  duration: 400,\n  delay: anime.stagger(80)\n}, 800);\n\n// Phase 2: Helicase appears and starts moving\ntl.add({\n  targets: '.helicase',\n  opacity: [0, 1],\n  scale: [0.5, 1],\n  duration: 600,\n  ease: 'outBack'\n}, 1800);\n\ntl.add({\n  targets: '.helicase-label',\n  opacity: [0, 1],\n  duration: 400\n}, 2200);\n\n// Helicase rotation animation\ntl.add({\n  targets: '.helicase',\n  rotate: 360,\n  duration: 2000,\n  ease: 'linear'\n}, 2400);\n\n// Phase 3: Helicase moves and unzips DNA\ntl.add({\n  targets: '.helicase',\n  left: 280,\n  duration: 4000,\n  ease: 'linear'\n}, 2800);\n\n// Strands separate as helicase passes\ntl.add({\n  targets: '.left-strand',\n  top: 60,\n  duration: 600,\n  delay: anime.stagger(400, {start: 0}),\n  ease: 'outQuad'\n}, 3200);\n\ntl.add({\n  targets: '.right-strand',\n  top: 120,\n  duration: 600,\n  delay: anime.stagger(400, {start: 0}),\n  ease: 'outQuad'\n}, 3200);\n\n// Bonds break\ntl.add({\n  targets: '.h-bond',\n  opacity: 0,\n  height: 0,\n  duration: 300,\n  delay: anime.stagger(400, {start: 0})\n}, 3200);\n\n// Phase 4: Polymerases appear\ntl.add({\n  targets: '.polymerase-top',\n  opacity: [0, 1],\n  scale: [0.5, 1],\n  left: 140,\n  duration: 500,\n  ease: 'outBack'\n}, 5000);\n\ntl.add({\n  targets: '.polymerase-bottom',\n  opacity: [0, 1],\n  scale: [0.5, 1],\n  left: 140,\n  duration: 500,\n  ease: 'outBack'\n}, 5200);\n\ntl.add({\n  targets: '.poly-label',\n  opacity: [0, 1],\n  duration: 400\n}, 5500);\n\n// Phase 5: Polymerases move and add new nucleotides\ntl.add({\n  targets: '.polymerase-top',\n  left: 300,\n  duration: 5000,\n  ease: 'linear'\n}, 6000);\n\ntl.add({\n  targets: '.polymerase-bottom',\n  left: 300,\n  duration: 5000,\n  ease: 'linear'\n}, 6000);\n\n// New nucleotides appear as polymerase passes\ntl.add({\n  targets: '.new-top',\n  opacity: [0, 1],\n  scale: [0, 1],\n  duration: 400,\n  delay: anime.stagger(500, {start: 0}),\n  ease: 'outBack'\n}, 6500);\n\ntl.add({\n  targets: '.new-bottom',\n  opacity: [0, 1],\n  scale: [0, 1],\n  duration: 400,\n  delay: anime.stagger(500, {start: 0}),\n  ease: 'outBack'\n}, 6700);\n\n// Phase 6: Final glow effect showing complete replication\ntl.add({\n  targets: '.bg-glow',\n  scale: [1, 1.5],\n  opacity: [0.2, 0.4],\n  duration: 1000,\n  ease: 'outQuad'\n}, 12000);\n\ntl.add({\n  targets: '.nucleotide, .new-nucleotide',\n  boxShadow: ['0 0 10px currentColor', '0 0 20px currentColor', '0 0 10px currentColor'],\n  duration: 1500,\n  ease: 'inOutSine'\n}, 12500);\n\n// Fade helicase label as it moves away\ntl.add({\n  targets: '.helicase-label',\n  opacity: 0,\n  duration: 500\n}, 5000);\n\nreturn tl;",
  "cleanup": "if (window._dnaElements) {\n  window._dnaElements.forEach(el => {\n    if (el && el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n  });\n  delete window._dnaElements;\n}"
}